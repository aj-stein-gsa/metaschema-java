<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IArgument.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Metaschema Core API</a> &gt; <a href="index.source.html" class="el_package">gov.nist.secauto.metaschema.core.metapath.function</a> &gt; <span class="el_source">IArgument.java</span></div><h1>IArgument.java</h1><pre class="source lang-java linenums">/*
 * SPDX-FileCopyrightText: none
 * SPDX-License-Identifier: CC0-1.0
 */

package gov.nist.secauto.metaschema.core.metapath.function;

import gov.nist.secauto.metaschema.core.metapath.item.IItem;
import gov.nist.secauto.metaschema.core.util.ObjectUtils;

import java.util.Objects;

import edu.umd.cs.findbugs.annotations.NonNull;

/**
 * Represents a single function argument signature.
 */
public interface IArgument {
  /**
   * Get the argument's name.
   *
   * @return the argument's name
   */
  @NonNull
  String getName();

  /**
   * Get information about the type of sequence supported by the argument.
   *
   * @return the sequence information
   */
  @NonNull
  ISequenceType getSequenceType();

  /**
   * Get the signature of the argument.
   *
   * @return the argument's signature
   */
  @NonNull
  String toSignature();

  /**
   * Get a new argument builder.
   *
   * @return the new argument builder
   */
  @NonNull
  static Builder builder() {
<span class="fc" id="L50">    return new Builder();</span>
  }

  /**
   * Used to create an argument's signature using a builder pattern.
   */
  final class Builder {
    private String name;
<span class="pc" id="L58">    @NonNull</span>
    private Class&lt;? extends IItem&gt; type = IItem.class;
    private Occurrence occurrence;

<span class="fc" id="L62">    private Builder() {</span>
      // construct a new non-initialized builder
<span class="fc" id="L64">    }</span>

<span class="nc" id="L66">    private Builder(@NonNull String name) {</span>
<span class="nc" id="L67">      this.name = name;</span>
<span class="nc" id="L68">    }</span>

    /**
     * Define the name of the function argument.
     *
     * @param name
     *          the argument's name
     * @return this builder
     */
    @NonNull
    public Builder name(@NonNull String name) {
<span class="pc bpc" id="L79" title="1 of 2 branches missed.">      if (Objects.requireNonNull(name, &quot;name&quot;).isBlank()) {</span>
<span class="nc" id="L80">        throw new IllegalArgumentException(&quot;the name must be non-blank&quot;);</span>
      }
<span class="fc" id="L82">      this.name = name.trim();</span>
<span class="fc" id="L83">      return this;</span>
    }

    /**
     * Define the type of the function argument.
     * &lt;p&gt;
     * By default an argument has the type {@link IItem}.
     *
     * @param type
     *          the argument's type
     * @return this builder
     */
    @NonNull
    public Builder type(@NonNull Class&lt;? extends IItem&gt; type) {
<span class="fc" id="L97">      this.type = Objects.requireNonNull(type, &quot;type&quot;);</span>
<span class="fc" id="L98">      return this;</span>
    }

    /**
     * Identifies the argument's cardinality as a single, optional item (zero or
     * one).
     *
     * @return this builder
     */
    @NonNull
    public Builder zeroOrOne() {
<span class="fc" id="L109">      return occurrence(Occurrence.ZERO_OR_ONE);</span>
    }

    /**
     * Identifies the argument's cardinality as a single, required item (one).
     *
     * @return this builder
     */
    @NonNull
    public Builder one() {
<span class="fc" id="L119">      return occurrence(Occurrence.ONE);</span>
    }

    /**
     * Identifies the argument's cardinality as an optional series of items (zero or
     * more).
     *
     * @return this builder
     */
    @NonNull
    public Builder zeroOrMore() {
<span class="fc" id="L130">      return occurrence(Occurrence.ZERO_OR_MORE);</span>
    }

    /**
     * Identifies the argument's cardinality as a required series of items (one or
     * more).
     *
     * @return this builder
     */
    @NonNull
    public Builder oneOrMore() {
<span class="nc" id="L141">      return occurrence(Occurrence.ONE_OR_MORE);</span>
    }

    @NonNull
    private Builder occurrence(@NonNull Occurrence occurrence) {
<span class="fc" id="L146">      Objects.requireNonNull(occurrence, &quot;occurrence&quot;);</span>
<span class="fc" id="L147">      this.occurrence = occurrence;</span>
<span class="fc" id="L148">      return this;</span>
    }

    /**
     * Builds the argument's signature.
     *
     * @return the argument's signature
     */
    @NonNull
    public IArgument build() {
<span class="fc" id="L158">      return new ArgumentImpl(</span>
<span class="fc" id="L159">          ObjectUtils.requireNonNull(name, &quot;the argument name must not be null&quot;),</span>
<span class="fc" id="L160">          ISequenceType.of(type, ObjectUtils.requireNonNull(occurrence, &quot;occurrence&quot;)));</span>
    }
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>